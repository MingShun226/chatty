# ğŸ“± WhatsApp Integration - User Interface Guide

> **What to expect when using the WhatsApp integration**

---

## ğŸ¯ Navigation

### How to Access WhatsApp Integration:

1. **Login** to your dashboard
2. Look at the **left sidebar**
3. Find **"WhatsApp Chatbot"** section (has MessageCircle icon)
4. Click **"WhatsApp Integration"**

```
Dashboard
  â””â”€ WhatsApp Chatbot
      â”œâ”€ Chatbot Settings
      â”œâ”€ Products
      â”œâ”€ Knowledge Base
      â”œâ”€ Prompt Engineer
      â”œâ”€ Model Training
      â”œâ”€ WhatsApp Integration  â† YOU ARE HERE
      â””â”€ Test Chat
```

---

## ğŸ“‹ What You'll See

### 1. First Time (No Connections)

When you first visit the page, you'll see:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WhatsApp Integration                               â”‚
â”‚  My Chatbot â€¢ Company Name              [Dropdown]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  ğŸŸ¢ WhatsApp Business Integration                   â”‚
â”‚  Connect your WhatsApp Business Account to         â”‚
â”‚  enable chatbot messaging                          â”‚
â”‚                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚               ğŸ“± No WhatsApp Connections            â”‚
â”‚                                                     â”‚
â”‚    Connect your WhatsApp Business Account to       â”‚
â”‚    start receiving and sending messages through    â”‚
â”‚    your chatbot                                    â”‚
â”‚                                                     â”‚
â”‚        [Connect WhatsApp Business Account]         â”‚
â”‚                 (Green Button)                      â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Action:** Click the green button to start OAuth flow

---

### 2. Connection Modal (Popup)

When you click "Connect", you'll see a detailed modal:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŸ¢ Connect WhatsApp Business Account               â”‚
â”‚  Connect your WhatsApp Business Account to         â”‚
â”‚  enable chatbot messaging                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  âœ… What you'll get:                                â”‚
â”‚    â€¢ Receive and reply to WhatsApp messages        â”‚
â”‚    â€¢ Send broadcast messages to multiple contacts  â”‚
â”‚    â€¢ Share images, videos, and documents          â”‚
â”‚    â€¢ Display your product catalog in WhatsApp     â”‚
â”‚    â€¢ Track message delivery and read status       â”‚
â”‚                                                     â”‚
â”‚  âš ï¸  Requirements:                                  â”‚
â”‚    â€¢ A Meta Business Account (free to create)      â”‚
â”‚    â€¢ A verified WhatsApp Business Account         â”‚
â”‚    â€¢ A phone number registered with WhatsApp      â”‚
â”‚                                                     â”‚
â”‚  ğŸ“ How it works:                                   â”‚
â”‚    1. Click "Connect WhatsApp" below              â”‚
â”‚    2. Log in to your Meta Business account        â”‚
â”‚    3. Select your WhatsApp Business Account       â”‚
â”‚    4. Grant permissions to manage messages        â”‚
â”‚    5. Your chatbot will start receiving messages! â”‚
â”‚                                                     â”‚
â”‚  ğŸ”’ Privacy & Security:                            â”‚
â”‚  Your access tokens are encrypted with AES-256-GCM â”‚
â”‚                                                     â”‚
â”‚        [Connect WhatsApp Business Account]         â”‚
â”‚              (Large Green Button)                   â”‚
â”‚                                                     â”‚
â”‚     [Don't have a WhatsApp Business Account?]     â”‚
â”‚              (Opens Meta guide)                     â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3. After Successful Connection

Once connected, your page transforms to show:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WhatsApp Integration                               â”‚
â”‚  My Chatbot â€¢ Company Name              [Dropdown]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  ğŸŸ¢ WhatsApp Business Integration                   â”‚
â”‚  Connect your WhatsApp Business Account...         â”‚
â”‚                                                     â”‚
â”‚                              [+ Add Another Number] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“± My Business        â”‚  â”‚ ğŸ“± Support Line      â”‚â”‚
â”‚  â”‚ +60123456789         â”‚  â”‚ +60198765432         â”‚â”‚
â”‚  â”‚ âœ… Verified          â”‚  â”‚ âœ… Verified          â”‚â”‚
â”‚  â”‚                      â”‚  â”‚                      â”‚â”‚
â”‚  â”‚ Quality: ğŸŸ¢ GREEN    â”‚  â”‚ Quality: ğŸŸ¡ YELLOW   â”‚â”‚
â”‚  â”‚ Tier: 50/day        â”‚  â”‚ Tier: 250/day       â”‚â”‚
â”‚  â”‚                      â”‚  â”‚                      â”‚â”‚
â”‚  â”‚ ğŸ“Š Stats:            â”‚  â”‚ ğŸ“Š Stats:            â”‚â”‚
â”‚  â”‚   125 messages       â”‚  â”‚   1,043 messages     â”‚â”‚
â”‚  â”‚   23 contacts        â”‚  â”‚   156 contacts       â”‚â”‚
â”‚  â”‚   95% delivery       â”‚  â”‚   98% delivery       â”‚â”‚
â”‚  â”‚                      â”‚  â”‚                      â”‚â”‚
â”‚  â”‚ ğŸ•’ Last synced 2h agoâ”‚  â”‚ ğŸ•’ Last synced 5m agoâ”‚â”‚
â”‚  â”‚                      â”‚  â”‚                      â”‚â”‚
â”‚  â”‚ [Messages] [Settings]â”‚  â”‚ [Messages] [Settings]â”‚â”‚
â”‚  â”‚                 [ğŸ”Œ] â”‚  â”‚                 [ğŸ”Œ] â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Summary                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ Active   â”‚ â”‚ Free Tierâ”‚ â”‚ Response â”‚           â”‚
â”‚  â”‚    2     â”‚ â”‚  1,000   â”‚ â”‚   <1s    â”‚           â”‚
â”‚  â”‚ numbers  â”‚ â”‚ conv/mo  â”‚ â”‚  time    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ Next Steps                                      â”‚
â”‚  1ï¸âƒ£  Test your chatbot - Send a message           â”‚
â”‚  2ï¸âƒ£  Create message templates - Set up broadcasts â”‚
â”‚  3ï¸âƒ£  Sync your product catalog - Show products    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ Connection Card Details

Each connected WhatsApp number shows:

### Phone Number & Status
- **Display Name**: Your business name
- **Phone Number**: +60123456789 (with country code)
- **Verified Badge**: âœ… if verified by Meta
- **Status Badge**: ğŸŸ¢ active / ğŸ”´ inactive

### Quality Rating (Color-Coded)
- **ğŸŸ¢ GREEN**: High quality (good reputation)
- **ğŸŸ¡ YELLOW**: Medium quality (some issues)
- **ğŸ”´ RED**: Low quality (risk of limits)

What affects quality:
- User reports of spam
- Message delivery failure rate
- User engagement (replies vs blocks)

### Messaging Tier
Shows your daily conversation limit:
- **TIER_50**: 50 conversations per 24 hours
- **TIER_250**: 250 conversations per 24 hours
- **TIER_1K**: 1,000 conversations per 24 hours
- **TIER_10K**: 10,000 conversations per 24 hours
- **TIER_UNLIMITED**: No daily limit

How to upgrade tier:
- Maintain green quality rating
- Send quality messages consistently
- Meta upgrades automatically

### Live Statistics
- **Total Messages**: All messages sent + received
- **Contacts**: Unique phone numbers you've chatted with
- **Delivery Rate**: % of messages successfully delivered

### Quick Actions
- **Messages**: View conversation history
- **Settings**: Edit business profile
- **Disconnect** (ğŸ”Œ): Remove the connection

---

## ğŸ”„ Real-Time Updates

### When You Send/Receive Messages

The stats update automatically:

```
Before message:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Total: 125     â”‚
â”‚ Contacts: 23   â”‚
â”‚ Delivery: 95%  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

After new conversation:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Total: 127  â¬†ï¸ â”‚  (increased by 2)
â”‚ Contacts: 24â¬†ï¸ â”‚  (new contact)
â”‚ Delivery: 95%  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Message Status Tracking

Each message goes through stages:

1. **Pending** â³ - Message created, waiting to send
2. **Sent** âœ… - Delivered to Meta servers
3. **Delivered** âœ…âœ… - Delivered to user's phone
4. **Read** ğŸ‘ï¸ - User opened and read the message
5. **Failed** âŒ - Message could not be delivered

---

## ğŸ’¬ Testing Your Connection

### What to Test:

1. **Send a text message:**
   ```
   You: "Hello, are you open?"
   Bot: "Yes! We're open Monday-Friday 9 AM - 6 PM..."
   ```

2. **Ask about products:**
   ```
   You: "What products do you have?"
   Bot: [Uses function calling to search products]
        "We have 15 products. Here are some popular items:
        1. Product A - $99
        2. Product B - $149..."
   ```

3. **Complex queries:**
   ```
   You: "Do you have any red shoes under $100?"
   Bot: [Searches products with filters]
        "I found 3 red shoes under $100:..."
   ```

### Expected Response Time:
- âš¡ **< 1 second**: For simple text queries
- âš¡ **1-2 seconds**: For product searches
- âš¡ **2-3 seconds**: For complex function calls

---

## ğŸ¯ Chatbot Selection

### Important: Always Select Your Chatbot!

At the top right of the page, you'll see:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– My Business Chatbot      [â–¼]   â”‚  â† Dropdown selector
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**This dropdown selects which chatbot to connect to WhatsApp.**

- Each chatbot can have multiple WhatsApp numbers
- Switch between chatbots to manage different connections
- The page remembers your last selection

If you see "No Chatbot Selected":
1. Click the dropdown
2. Select your chatbot
3. The page will reload with connections for that chatbot

---

## ğŸ¨ Visual States

### Loading State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚
â”‚           â³ Loading...             â”‚
â”‚      (Spinning circle animation)    â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Success Toast (After Connection)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… WhatsApp connected!              â”‚
â”‚ Successfully connected 1 WhatsApp   â”‚
â”‚ number(s)!                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Error Toast (If Connection Fails)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ Connection failed                â”‚
â”‚ No WhatsApp Business Account found. â”‚
â”‚ Please ensure you have a WhatsApp   â”‚
â”‚ Business Account set up...          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Tips for Best Experience

### 1. Use the Chatbot Selector
Always select your chatbot first before trying to connect WhatsApp.

### 2. Check Quality Rating Regularly
- Green = good, keep doing what you're doing
- Yellow = improve message quality, reduce spam
- Red = urgent, you may lose messaging ability

### 3. Monitor Your Tier
- Start at TIER_50 (50 conversations/day)
- Maintain quality to auto-upgrade
- Plan campaigns within your tier limit

### 4. Test Before Going Live
Send yourself test messages to ensure:
- Auto-reply works
- Response quality is good
- Function calling (product search) works

### 5. Disconnect When Not Needed
If you switch phone numbers or stop using a number:
- Click the disconnect button (ğŸ”Œ)
- This prevents confusion and keeps data clean

---

## ğŸ†˜ Common UI Issues

### "No Chatbot Selected" Error

**What you see:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸  No Chatbot Selected             â”‚
â”‚                                     â”‚
â”‚ Please select a chatbot from the   â”‚
â”‚ dashboard to manage WhatsApp        â”‚
â”‚ integration.                        â”‚
â”‚                                     â”‚
â”‚        [Go to Dashboard]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Solution:**
1. Click the chatbot dropdown at top right
2. Select your chatbot
3. OR go to Dashboard and select chatbot there

### Empty Connections List

**What you see:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“± No WhatsApp Connections          â”‚
â”‚                                     â”‚
â”‚ [Connect WhatsApp Business Account] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**This is normal** if:
- You haven't connected yet (click the button!)
- You disconnected all numbers
- Your chatbot is newly created

### Popup Blocked

**What you see:**
Browser shows: "Popup blocked" notification

**Solution:**
1. Click the browser notification
2. Select "Always allow popups from localhost:8080"
3. Click "Connect" button again

---

**Now you're ready to use WhatsApp Integration!** ğŸ‰

For setup instructions, see [WHATSAPP_SETUP_GUIDE.md](./WHATSAPP_SETUP_GUIDE.md)
